Z80 Macro Assembler ZMA v1.0.16
=====================================================
Programmed by t.hara

  DEFS is DEFINE STRING (default).
  OUTPUT TYPE: BINARY

<< code >>
LINE# |OFFSET|ADDR|MNEMONIC
======+======+====+==================================
     7|      |    |BDOS := 0xF37D
      |      |    |  Global integer symbol [BDOS] = 62333 (0xf37d)
------+------+----+----------------------------------
     8|      |    |PUTS := 0x09
      |      |    |  Global integer symbol [PUTS] = 9 (0x9)
------+------+----+----------------------------------
     9|      |    |FOPEN := 0x0F
      |      |    |  Global integer symbol [FOPEN] = 15 (0xf)
------+------+----+----------------------------------
    10|      |    |FCLOSE := 0x10
      |      |    |  Global integer symbol [FCLOSE] = 16 (0x10)
------+------+----+----------------------------------
    11|      |    |SETDTA := 0x1A
      |      |    |  Global integer symbol [SETDTA] = 26 (0x1a)
------+------+----+----------------------------------
    12|      |    |FREAD := 0x27
      |      |    |  Global integer symbol [FREAD] = 39 (0x27)
------+------+----+----------------------------------
    14|      |    |RECSIZE := 14
      |      |    |  Global integer symbol [RECSIZE] = 14 (0xe)
------+------+----+----------------------------------
    15|      |    |RECPOS := 33
      |      |    |  Global integer symbol [RECPOS] = 33 (0x21)
------+------+----+----------------------------------
    19|      |    |DB 0xFE
      |000000|0000|  FE
------+------+----+----------------------------------
    20|      |    |DW START_ADDRESS
      |000001|0001|  00 C0
------+------+----+----------------------------------
    21|      |    |DW END_ADDRESS
      |000003|0003|  9F C1
------+------+----+----------------------------------
    22|      |    |DW START_ADDRESS
      |000005|0005|  00 C0
------+------+----+----------------------------------
    24|      |    |ORG 0xC000
------+------+----+----------------------------------
    25|      |    |START_ADDRESS ::
      |      |    |  global label [START_ADDRESS] address: 0x00c000
------+------+----+----------------------------------
    29|      |    |LD DE, FCB
      |      |    |  Z80:11cyc R800:3cyc
      |000007|C000|  11 78 C0
------+------+----+----------------------------------
    30|      |    |LD C, FOPEN
      |      |    |  Z80:8cyc R800:2cyc
      |00000A|C003|  0E 0F
------+------+----+----------------------------------
    31|      |    |CALL BDOS
      |      |    |  Z80:18cyc R800:5cyc
      |00000C|C005|  CD 7D F3
------+------+----+----------------------------------
    32|      |    |OR A, A
      |      |    |  Z80:5cyc R800:1cyc
      |00000F|C008|  B7
------+------+----+----------------------------------
    33|      |    |JP NZ, OPEN_ERROR
      |      |    |  Z80:11cyc R800:5cyc/3cyc
      |000010|C009|  C2 4D C0
------+------+----+----------------------------------
    37|      |    |LD DE, DTA
      |      |    |  Z80:11cyc R800:3cyc
      |000013|C00C|  11 9D C0
------+------+----+----------------------------------
    38|      |    |LD C, SETDTA
      |      |    |  Z80:8cyc R800:2cyc
      |000016|C00F|  0E 1A
------+------+----+----------------------------------
    39|      |    |CALL BDOS
      |      |    |  Z80:18cyc R800:5cyc
      |000018|C011|  CD 7D F3
------+------+----+----------------------------------
    43|      |    |LD DE, FCB
      |      |    |  Z80:11cyc R800:3cyc
      |00001B|C014|  11 78 C0
------+------+----+----------------------------------
    44|      |    |LD HL, 1
      |      |    |  Z80:11cyc R800:3cyc
      |00001E|C017|  21 01 00
------+------+----+----------------------------------
    45|      |    |LD [ FCB + RECSIZE ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000021|C01A|  22 86 C0
------+------+----+----------------------------------
    46|      |    |LD HL, 0
      |      |    |  Z80:11cyc R800:3cyc
      |000024|C01D|  21 00 00
------+------+----+----------------------------------
    47|      |    |LD [ FCB + RECPOS + 0 ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |000027|C020|  22 99 C0
------+------+----+----------------------------------
    48|      |    |LD [ FCB + RECPOS + 2 ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |00002A|C023|  22 9B C0
------+------+----+----------------------------------
    49|      |    |LD HL, 100
      |      |    |  Z80:11cyc R800:3cyc
      |00002D|C026|  21 64 00
------+------+----+----------------------------------
    50|      |    |LD C, FREAD
      |      |    |  Z80:8cyc R800:2cyc
      |000030|C029|  0E 27
------+------+----+----------------------------------
    51|      |    |CALL BDOS
      |      |    |  Z80:18cyc R800:5cyc
      |000032|C02B|  CD 7D F3
------+------+----+----------------------------------
    52|      |    |LD A, H
      |      |    |  Z80:5cyc R800:2cyc
      |000035|C02E|  7C
------+------+----+----------------------------------
    53|      |    |OR A, L
      |      |    |  Z80:5cyc R800:1cyc
      |000036|C02F|  B5
------+------+----+----------------------------------
    54|      |    |JP Z, READ_ERROR
      |      |    |  Z80:11cyc R800:5cyc/3cyc
      |000037|C030|  CA 53 C0
------+------+----+----------------------------------
    55|      |    |LD [ READ_SIZE ], HL
      |      |    |  Z80:17cyc R800:7cyc
      |00003A|C033|  22 9D C1
------+------+----+----------------------------------
    59|      |    |LD DE, FCB
      |      |    |  Z80:11cyc R800:3cyc
      |00003D|C036|  11 78 C0
------+------+----+----------------------------------
    60|      |    |LD C, FCLOSE
      |      |    |  Z80:8cyc R800:2cyc
      |000040|C039|  0E 10
------+------+----+----------------------------------
    61|      |    |CALL BDOS
      |      |    |  Z80:18cyc R800:5cyc
      |000042|C03B|  CD 7D F3
------+------+----+----------------------------------
    65|      |    |LD DE, DTA
      |      |    |  Z80:11cyc R800:3cyc
      |000045|C03E|  11 9D C0
------+------+----+----------------------------------
    66|      |    |LD HL, [ READ_SIZE ]
      |      |    |  Z80:17cyc R800:7cyc
      |000048|C041|  2A 9D C1
------+------+----+----------------------------------
    67|      |    |ADD HL, DE
      |      |    |  Z80:12cyc R800:1cyc
      |00004B|C044|  19
------+------+----+----------------------------------
    68|      |    |LD [ HL ], '$'
      |      |    |  Z80:11cyc R800:5cyc
      |00004C|C045|  36 24
------+------+----+----------------------------------
    69|      |    |LD C, PUTS
      |      |    |  Z80:8cyc R800:2cyc
      |00004E|C047|  0E 09
------+------+----+----------------------------------
    70|      |    |CALL BDOS
      |      |    |  Z80:18cyc R800:5cyc
      |000050|C049|  CD 7D F3
------+------+----+----------------------------------
    71|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000053|C04C|  C9
------+------+----+----------------------------------
    75|      |    |OPEN_ERROR ::
      |      |    |  global label [OPEN_ERROR] address: 0x00c04d
------+------+----+----------------------------------
    76|      |    |LD DE, S_OPEN_ERROR
      |      |    |  Z80:11cyc R800:3cyc
      |000054|C04D|  11 5C C0
------+------+----+----------------------------------
    77|      |    |JP ERROR_EXIT
      |      |    |  Z80:11cyc R800:5cyc
      |000057|C050|  C3 56 C0
------+------+----+----------------------------------
    78|      |    |READ_ERROR ::
      |      |    |  global label [READ_ERROR] address: 0x00c053
------+------+----+----------------------------------
    79|      |    |LD DE, S_READ_ERROR
      |      |    |  Z80:11cyc R800:3cyc
      |00005A|C053|  11 6A C0
------+------+----+----------------------------------
    80|      |    |ERROR_EXIT ::
      |      |    |  global label [ERROR_EXIT] address: 0x00c056
------+------+----+----------------------------------
    81|      |    |LD C, PUTS
      |      |    |  Z80:8cyc R800:2cyc
      |00005D|C056|  0E 09
------+------+----+----------------------------------
    82|      |    |CALL BDOS
      |      |    |  Z80:18cyc R800:5cyc
      |00005F|C058|  CD 7D F3
------+------+----+----------------------------------
    83|      |    |RET
      |      |    |  Z80:11cyc R800:5cyc
      |000062|C05B|  C9
------+------+----+----------------------------------
    85|      |    |S_OPEN_ERROR ::
      |      |    |  global label [S_OPEN_ERROR] address: 0x00c05c
------+------+----+----------------------------------
    86|      |    |DS "OPEN ERROR.\r\n$"
      |000063|C05C|  4F 50 45 4E 20 45 52 52
      |00006B|C064|  4F 52 2E 0D 0A 24
------+------+----+----------------------------------
    87|      |    |S_READ_ERROR ::
      |      |    |  global label [S_READ_ERROR] address: 0x00c06a
------+------+----+----------------------------------
    88|      |    |DS "READ ERROR.\r\n$"
      |000071|C06A|  52 45 41 44 20 45 52 52
      |000079|C072|  4F 52 2E 0D 0A 24
------+------+----+----------------------------------
    92|      |    |FCB ::
      |      |    |  global label [FCB] address: 0x00c078
------+------+----+----------------------------------
    93|      |    |DB 0
      |00007F|C078|  00
------+------+----+----------------------------------
    94|      |    |DS "TEST    "
      |000080|C079|  54 45 53 54 20 20 20 20
------+------+----+----------------------------------
    95|      |    |DS "TXT"
      |000088|C081|  54 58 54
------+------+----+----------------------------------
    96|      |    |DB 0
      |00008B|C084|  00
------+------+----+----------------------------------
    97|      |    |SPACE 36 - 13 + 1
      |      |    |  Allocate space: 24byte(s)
      |      |    |  Fill value    : 0(0x00)
      |00008C|C085|  00 00 00 00 00 00 00 00
      |000094|C08D|  00 00 00 00 00 00 00 00
      |00009C|C095|  00 00 00 00 00 00 00 00
------+------+----+----------------------------------
    99|      |    |DTA ::
      |      |    |  global label [DTA] address: 0x00c09d
------+------+----+----------------------------------
   100|      |    |SPACE 256
      |      |    |  Allocate space: 256byte(s)
      |      |    |  Fill value    : 0(0x00)
      |0000A4|C09D|  00 00 00 00 00 00 00 00
      |0000AC|C0A5|  00 00 00 00 00 00 00 00
      |0000B4|C0AD|  00 00 00 00 00 00 00 00
      |0000BC|C0B5|  00 00 00 00 00 00 00 00
      |0000C4|C0BD|  00 00 00 00 00 00 00 00
      |0000CC|C0C5|  00 00 00 00 00 00 00 00
      |0000D4|C0CD|  00 00 00 00 00 00 00 00
      |0000DC|C0D5|  00 00 00 00 00 00 00 00
      |0000E4|C0DD|  00 00 00 00 00 00 00 00
      |0000EC|C0E5|  00 00 00 00 00 00 00 00
      |0000F4|C0ED|  00 00 00 00 00 00 00 00
      |0000FC|C0F5|  00 00 00 00 00 00 00 00
      |000104|C0FD|  00 00 00 00 00 00 00 00
      |00010C|C105|  00 00 00 00 00 00 00 00
      |000114|C10D|  00 00 00 00 00 00 00 00
      |00011C|C115|  00 00 00 00 00 00 00 00
      |000124|C11D|  00 00 00 00 00 00 00 00
      |00012C|C125|  00 00 00 00 00 00 00 00
      |000134|C12D|  00 00 00 00 00 00 00 00
      |00013C|C135|  00 00 00 00 00 00 00 00
      |000144|C13D|  00 00 00 00 00 00 00 00
      |00014C|C145|  00 00 00 00 00 00 00 00
      |000154|C14D|  00 00 00 00 00 00 00 00
      |00015C|C155|  00 00 00 00 00 00 00 00
      |000164|C15D|  00 00 00 00 00 00 00 00
      |00016C|C165|  00 00 00 00 00 00 00 00
      |000174|C16D|  00 00 00 00 00 00 00 00
      |00017C|C175|  00 00 00 00 00 00 00 00
      |000184|C17D|  00 00 00 00 00 00 00 00
      |00018C|C185|  00 00 00 00 00 00 00 00
      |000194|C18D|  00 00 00 00 00 00 00 00
      |00019C|C195|  00 00 00 00 00 00 00 00
------+------+----+----------------------------------
   102|      |    |READ_SIZE ::
      |      |    |  global label [READ_SIZE] address: 0x00c19d
------+------+----+----------------------------------
   103|      |    |DW 0
      |0001A4|C19D|  00 00
------+------+----+----------------------------------
   104|      |    |END_ADDRESS ::
      |      |    |  global label [END_ADDRESS] address: 0x00c19f
------+------+----+----------------------------------
<< label >>
BDOS ............ 62333 ( 0xf37d )
DTA ............. 49309 ( 0xc09d )
END_ADDRESS ..... 49567 ( 0xc19f )
ERROR_EXIT ...... 49238 ( 0xc056 )
FCB ............. 49272 ( 0xc078 )
FCLOSE .......... 16 ( 0x10 )
FOPEN ........... 15 ( 0xf )
FREAD ........... 39 ( 0x27 )
OPEN_ERROR ...... 49229 ( 0xc04d )
PUTS ............ 9 ( 0x9 )
READ_ERROR ...... 49235 ( 0xc053 )
READ_SIZE ....... 49565 ( 0xc19d )
RECPOS .......... 33 ( 0x21 )
RECSIZE ......... 14 ( 0xe )
SETDTA .......... 26 ( 0x1a )
START_ADDRESS ... 49152 ( 0xc000 )
S_OPEN_ERROR .... 49244 ( 0xc05c )
S_READ_ERROR .... 49258 ( 0xc06a )
